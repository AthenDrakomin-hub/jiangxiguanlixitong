import{j as e}from"./index-BV8Zipq2.js";import{r as c}from"./react-vendor-C14am9Lm.js";import{f as m,l as b,Y as f,U as j,x as N,s as v}from"./lucide-CwzgdtcU.js";import"./aws-sdk-BT5ufFbJ.js";import"./recharts-wRm9IGXD.js";const k=({records:x,setRecords:d})=>{const[o,n]=c.useState(!1),[s,a]=c.useState({guestName:"",destination:"",price:0,driver:"",status:"Scheduled",date:new Date().toISOString().slice(0,16)}),u=t=>{t.preventDefault();const l={...s,id:`CAR-${Date.now()}`};d(i=>[l,...i]),n(!1),a({guestName:"",destination:"",price:0,driver:"",status:"Scheduled",date:new Date().toISOString().slice(0,16)})},p=(t,l)=>{d(i=>i.map(r=>r.id===t?{...r,status:l}:r))},h=t=>{confirm("Delete this record? 删除此行程记录？")&&d(l=>l.filter(i=>i.id!==t))},g=[...x].sort((t,l)=>new Date(l.date).getTime()-new Date(t.date).getTime());return e.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(m,{className:"text-blue-600"})," 用车服务调度"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Airport pickup / Dropoff & Rentals"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-200",children:[e.jsx(b,{size:20})," New Trip 新增行程"]})]}),e.jsxs("div",{className:"grid gap-4",children:[g.map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${t.status==="Completed"?"bg-green-100 text-green-700":t.status==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:t.status==="Completed"?"Completed 已完成":t.status==="Cancelled"?"Cancelled 已取消":"Scheduled 待出行"}),e.jsx("span",{className:"text-slate-400 text-xs",children:new Date(t.date).toLocaleString()})]}),e.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(f,{size:18,className:"text-red-500"})," ",t.destination]}),e.jsxs("div",{className:"flex gap-4 text-sm text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{size:14})," Guest: ",t.guestName]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:14})," Driver: ",t.driver]})]})]}),e.jsxs("div",{className:"flex flex-row md:flex-col items-center md:items-end gap-3 md:gap-1 w-full md:w-auto justify-between",children:[e.jsxs("div",{className:"text-xl font-bold text-slate-800",children:["₱",t.price]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="Scheduled"&&e.jsx("button",{onClick:()=>p(t.id,"Completed"),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Mark Complete",children:e.jsx(N,{size:18})}),e.jsx("button",{onClick:()=>h(t.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:e.jsx(v,{size:18})})]})]})]},t.id)),x.length===0&&e.jsx("div",{className:"text-center py-12 text-slate-400 bg-white rounded-xl border border-slate-100 border-dashed",children:"No Records / 暂无用车记录"})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"New Trip 新增用车行程"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Destination 目的地"}),e.jsx("input",{type:"text",required:!0,value:s.destination,onChange:t=>a({...s,destination:t.target.value}),className:"w-full px-4 py-2 border rounded-lg",placeholder:"e.g. NAIA T3"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest 客人"}),e.jsx("input",{type:"text",required:!0,value:s.guestName,onChange:t=>a({...s,guestName:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Driver 司机"}),e.jsx("input",{type:"text",required:!0,value:s.driver,onChange:t=>a({...s,driver:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Time 时间"}),e.jsx("input",{type:"datetime-local",required:!0,value:s.date,onChange:t=>a({...s,date:t.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price 费用 (₱)"}),e.jsx("input",{type:"number",required:!0,value:s.price,onChange:t=>a({...s,price:Number(t.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 py-2 text-slate-600 bg-slate-100 rounded-lg",children:"Cancel 取消"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white rounded-lg",children:"Save 保存"})]})]})]})})]})};export{k as default};
