import{O as i,j as e}from"./index-BV8Zipq2.js";import{d as c,i as m,y as h,V as f,x as b}from"./lucide-CwzgdtcU.js";import"./react-vendor-C14am9Lm.js";import"./aws-sdk-BT5ufFbJ.js";import"./recharts-wRm9IGXD.js";const o=({order:s,nextStatus:a,buttonText:d,colorClass:n,onStatusChange:r})=>{const t=l=>`${Math.floor((new Date().getTime()-new Date(l).getTime())/6e4)} min`;return e.jsxs("div",{className:"bg-white rounded-xl shadow-md border-l-4 border-l-transparent overflow-hidden flex flex-col h-full animate-fade-in",style:{borderLeftColor:n},children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-2xl font-bold text-slate-800",children:["#",s.tableNumber]}),e.jsxs("span",{className:"text-xs text-slate-500 block",children:["ID: ",s.id.slice(-4)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`font-mono font-bold ${t(s.createdAt).includes("min")&&parseInt(t(s.createdAt))>15?"text-red-600 animate-pulse":"text-slate-600"}`,children:t(s.createdAt)}),e.jsx("div",{className:"text-xs text-slate-400",children:new Date(s.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[s.items.map((l,x)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed border-slate-200 last:border-0",children:[e.jsx("span",{className:"text-lg font-bold text-slate-800",children:l.dishName}),e.jsxs("span",{className:"text-xl font-bold bg-slate-100 px-3 py-1 rounded text-slate-700",children:["x",l.quantity]})]},x)),s.notes&&e.jsxs("div",{className:"mt-3 bg-yellow-50 text-yellow-800 p-3 rounded border border-yellow-100 font-bold flex gap-2 items-start",children:[e.jsx(f,{size:20,className:"shrink-0 mt-0.5"}),s.notes]})]}),e.jsx("div",{className:"p-4 border-t border-slate-100",children:e.jsxs("button",{onClick:()=>r(s.id,a),className:`w-full py-4 rounded-lg font-bold text-white text-lg flex items-center justify-center gap-2 transition-transform active:scale-95 ${a===i.COOKING?"bg-blue-600 hover:bg-blue-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:[d," ",a===i.COOKING?e.jsx(c,{size:24}):e.jsx(b,{size:24})]})})]})},w=({orders:s,onStatusChange:a,onBack:d})=>{const n=s.filter(t=>t.status===i.PENDING).sort((t,l)=>new Date(t.createdAt).getTime()-new Date(l.createdAt).getTime()),r=s.filter(t=>t.status===i.COOKING).sort((t,l)=>new Date(t.createdAt).getTime()-new Date(l.createdAt).getTime());return e.jsxs("div",{className:"h-[calc(100vh-2rem)] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[e.jsx(c,{size:32})," Kitchen Display (KDS)"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-white/80 font-mono text-xl",children:new Date().toLocaleTimeString()}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg border border-white/20 transition-colors",children:[e.jsx(m,{size:18}),e.jsx("span",{children:"Exit / Lumabas"})]})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-6 overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-4 flex flex-col border border-slate-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"})," Pending / Naghihintay"]}),e.jsx("span",{className:"bg-slate-700 text-white px-3 py-1 rounded-full text-sm font-bold",children:n.length})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[n.map(t=>e.jsx(o,{order:t,nextStatus:i.COOKING,buttonText:"Start Cooking / Simulan",colorClass:"#f97316",onStatusChange:a},t.id)),n.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 opacity-50",children:[e.jsx(h,{size:64}),e.jsx("p",{className:"mt-4 text-xl",children:"No pending orders / Walang order"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-4 flex flex-col border border-slate-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"})," Cooking / Nagluluto"]}),e.jsx("span",{className:"bg-slate-700 text-white px-3 py-1 rounded-full text-sm font-bold",children:r.length})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[r.map(t=>e.jsx(o,{order:t,nextStatus:i.SERVED,buttonText:"Serve / I-serve",colorClass:"#3b82f6",onStatusChange:a},t.id)),r.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 opacity-50",children:[e.jsx(c,{size:64}),e.jsx("p",{className:"mt-4 text-xl",children:"Kitchen Idle"})]})]})]})]})]})};export{w as default};
