const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MenuManagement-YgpK9GB5.js","assets/auditLogger-DYWE_lBP.js","assets/menu-Dp2AkKIZ.js","assets/database-sHUWp0Re.js","assets/ImageLazyLoad-DPO3Dik5.js","assets/OrderManagement-BlWP3PzG.js","assets/printer-DTiC6_Bg.js","assets/FinanceSystem-BE77k4_k.js","assets/InventoryManagement-DXPbLNlc.js","assets/HotelSystem-BS7rYsX0.js","assets/KitchenDisplay-C9BN40p1.js","assets/CustomerOrder-DmgE3Ndd.js","assets/DictionaryManagement-CpPHGPg0.js"])))=>i.map(i=>d[i]);
import{jsx as t,jsxs as m,Fragment as Ee}from"react/jsx-runtime";import y,{createContext as Ce,useState as u,useContext as ke,Component as Ie,useCallback as G,useEffect as O,useRef as Se,Suspense as N}from"react";import Ae from"react-dom/client";import{DollarSign as Oe,ClipboardList as Le,BedDouble as De,ChefHat as Te,QrCode as Re,Utensils as re,Package as Me,FileSignature as ze,CreditCard as $e,Shield as qe,Settings as Ue,Database as ne,X as Be,Lock as se,AlertCircle as Ve,User as Fe,EyeOff as je,Eye as Ke,LogIn as He,Loader2 as We}from"lucide-react";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const Ge="modulepreload",Je=function(e){return"/"+e},oe={},b=function(a,r,s){let n=Promise.resolve();if(r&&r.length>0){let w=function(_){return Promise.all(_.map(g=>Promise.resolve(g).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");n=w(r.map(_=>{if(_=Je(_),_ in oe)return;oe[_]=!0;const g=_.endsWith(".css"),c=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${c}`))return;const p=document.createElement("link");if(p.rel=g?"stylesheet":Ge,g||(p.as="script"),p.crossOrigin="",p.href=_,h&&p.setAttribute("nonce",h),document.head.appendChild(p),g)return new Promise((E,f)=>{p.addEventListener("load",E),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${_}`)))})}))}function i(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return n.then(l=>{for(const h of l||[])h.status==="rejected"&&i(h.reason);return a().catch(i)})};var ie={};const z={DEFAULT_STORE_INFO:{name:"江西酒店 (Jinjiang Star Hotel)",address:"5 Corner Lourdes Street and Roxas Boulevard, Pasay City",phone:"+639084156449",openingHours:"10:00 - 02:00",kitchenPrinterUrl:"",wifiSsid:"ChangeMe_WIFI_SSID",wifiPassword:"",telegram:"@jx555999",h5PageTitle:"江西酒店 - 在线点餐",h5PageDescription:"江西酒店在线点餐系统，为您提供便捷的客房送餐和大厅点餐服务",h5PageKeywords:"江西酒店,在线点餐,客房送餐,餐厅服务"},DEFAULT_FINANCIAL:{exchangeRate:8.2,serviceChargeRate:.1},NOTIFICATION:{soundUrl:"/sounds/notification.mp3"}};function Qe(){return(ie.DB_TYPE||"memory")==="neon"?{type:"neon",settings:{connectionString:ie.NEON_CONNECTION_STRING||""}}:{type:"memory",settings:null}}async function Ye(){const{dbManager:e}=await b(async()=>{const{dbManager:r}=await import("./database-sHUWp0Re.js");return{dbManager:r}},[]),a=Qe();try{await e.initialize(a),console.log(`数据库初始化成功，类型: ${a.type}`)}catch(r){console.error("数据库初始化失败，使用默认内存数据库:",r),await e.initialize({type:"memory",settings:null})}}var $=(e=>(e.PENDING="PENDING",e.COOKING="COOKING",e.READY="READY",e.DELIVERED="DELIVERED",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))($||{}),Xe=(e=>(e.INGREDIENTS="Ingredients",e.RENT="Rent",e.SALARY="Salary",e.UTILITIES="Utilities",e.MAINTENANCE="Maintenance",e.EQUIPMENT="Equipment",e.OTHER="Other",e))(Xe||{});const Lt="preferred_language",ue={"zh-CN":{dashboard:"仪表盘",menu:"菜单管理",orders:"订单中心",finance:"财务管理",inventory:"库存管理",settings:"系统设置",ktv:"KTV 包厢",signbill:"签单挂账",hotel:"客房点餐",qrcode:"二维码管理",kitchen:"后厨显示",customer:"顾客点餐",permissions:"权限管理",dataviewer:"数据查看",dictionary:"词库管理",save:"保存",cancel:"取消",delete:"删除",edit:"编辑",add:"添加",search:"搜索",filter:"筛选",loading:"加载中...",success:"操作成功",error:"操作失败",confirm:"确认操作",processing_payment:"正在处理支付...",name:"名称",description:"描述",price:"价格",quantity:"数量",category:"分类",required:"此项为必填",invalidFormat:"格式不正确",today:"今天",yesterday:"昨天",thisWeek:"本周",thisMonth:"本月",bottom_navigation:"底部导航",unread_orders:"未读订单",quantity_controls:"数量控制",quantity_controls_for:"的数量控制",decrease_quantity:"减少",increase_quantity:"增加",add_to_cart:"添加到购物车",close_cart:"关闭购物车",back_to_cart:"返回购物车",language_toggle:"中文",pending_status:"待接单 Pending",cooking_status:"烹饪中 Cooking",served_status:"已上菜 Served",paid_status:"已支付 Paid",search_placeholder:"Search food... 搜索菜品",no_items_found:"No items found",order_history:"Order History 订单记录",no_orders_yet:"No orders yet",order_now:"Order Now 去点餐",cash_collection_notice:"等待服务员收款。",total_label:"Total",view_cart:"View Cart",menu_tab:"Menu 菜单",orders_tab:"Orders 订单",cart_title:"Cart 购物车",special_requests:"Special Requests 备注",special_requests_placeholder:"e.g. No spicy, less oil... (不要辣，少油)",subtotal:"Subtotal 小计",service_charge:"Service Charge",total_amount:"Total 合计",checkout:"Checkout 去支付",cashier:"Cashier 收银台",amount_to_pay:"Total Amount 应付金额",select_payment_method:"Select Payment Method 选择支付方式",cash_payment:"Cash 现金支付",pay_at_counter:"Pay at counter / table",e_wallet:"E-Wallet",rmb_payment:"RMB Payment",cash_payment_title:"Cash Payment",prepare_cash:"Please prepare your cash.",cash_amount_prompt:"How much will you pay with?",cash_amount_placeholder:"e.g. 1000",quick_amount_500:"₱500",quick_amount_1000:"₱1000",exact_amount:"Exact",change_due:"Change Due 找零",back_button:"Back",confirm_cash:"Confirm Cash",processing:"Processing...",waiting_payment_confirmation:"Waiting for payment confirmation",scan_to_pay:"Scan to Pay",use_app:"Use your {method} app",simulate_success:"Simulate Success (Dev)",all_categories:"全部 All",simulated_api_qr:"Simulated API QR",total:"Total 合计",service_charge_with_rate:"Service Charge ({rate}%)",cash:"Cash 现金支付",e_wallet_label:"E-Wallet",rmb_payment_label:"RMB Payment",back:"Back",exact:"Exact",reference_price:"参考价 Ref",default_store_name:"江西酒店 (Jinjiang Star Hotel)",order_detail_title:"订单详情",order_items:"订单项目",close:"关闭",alipay:"支付宝",wechat_pay:"微信支付",view_details:"查看详情",recommended_for_you:"为你推荐",print_receipt:"打印收据",order_id:"订单号",table_number:"桌号",order_time:"下单时间",status:"状态",payment_method:"支付方式",item:"项目",amount:"金额",thank_you_message:"谢谢惠顾，欢迎再次光临！",revenue:"收入",VIP包间:"VIP Rooms","为客房下单，订单将自动流转至后厨":"Place orders for rooms, orders will automatically flow to kitchen","房间号范围: 8201-8232 (2楼) 和 8301-8332 (3楼)":"Room range: 8201-8232 (2F) and 8301-8332 (3F)",Kuwarto:"Room",Occupied:"Abala",Vacant:"Bakante","提交中...":"Submitting...","Send to Kitchen":"Ipadala sa Kusina","正在提交订单...":"Submitting order...",客房点餐:"Room Service Order",房号:"Room Number","订单已发送至厨房！":"Order sent to kitchen!","订单提交失败，请重试。":"Order submission failed, please try again.","Order submission failed, please try again.":"Nabigo ang pagsumite ng order, pakisubukan ulit.",KTV:"KTV",VIP餐厅:"VIP Dining",合作单位:"Partner Accounts",选择挂账单位:"Select Account to Charge",当前欠款:"Current Balance",确认挂账:"Confirm Charge","处理中...":"Processing...",挂账:"Charge to Account","挂账成功！":"Charge Successful!",单位:"Account",金额:"Amount",挂账订单:"Charge to Account Order","挂账失败，请重试。":"Charge to account failed, please try again."},en:{dashboard:"Dashboard",menu:"Menu Management",orders:"Order Center",finance:"Financial Management",inventory:"Inventory Management",settings:"System Settings",ktv:"KTV Rooms",signbill:"Sign Bill",hotel:"Room Dining",qrcode:"QR Code Management",kitchen:"Kitchen Display",customer:"Customer Order",permissions:"Permission Management",dataviewer:"Data Viewer",dictionary:"Dictionary Management",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",loading:"Loading...",success:"Operation successful",error:"Operation failed",confirm:"Confirm action",processing_payment:"Processing payment...",name:"Name",description:"Description",price:"Price",quantity:"Quantity",category:"Category",required:"This field is required",invalidFormat:"Invalid format",today:"Today",yesterday:"Yesterday",thisWeek:"This Week",thisMonth:"This Month",bottom_navigation:"Bottom navigation",unread_orders:"Unread orders",quantity_controls:"Quantity controls",quantity_controls_for:"Quantity controls for",decrease_quantity:"Decrease quantity of",increase_quantity:"Increase quantity of",add_to_cart:"Add to cart",close_cart:"Close cart",back_to_cart:"Back to cart",language_toggle:"English",pending_status:"Pending",cooking_status:"Cooking",served_status:"Served",paid_status:"Paid",search_placeholder:"Search food...",no_items_found:"No items found",order_history:"Order History",no_orders_yet:"No orders yet",order_now:"Order Now",cash_collection_notice:"Wait for staff to collect cash.",total_label:"Total",view_cart:"View Cart",menu_tab:"Menu",orders_tab:"Orders",cart_title:"Cart",special_requests:"Special Requests",special_requests_placeholder:"e.g. No spicy, less oil...",subtotal:"Subtotal",service_charge:"Service Charge",total_amount:"Total",checkout:"Checkout",cashier:"Cashier",amount_to_pay:"Total Amount",select_payment_method:"Select Payment Method",cash_payment:"Cash",pay_at_counter:"Pay at counter / table",e_wallet:"E-Wallet",rmb_payment:"RMB Payment",cash_payment_title:"Cash Payment",prepare_cash:"Please prepare your cash.",cash_amount_prompt:"How much will you pay with?",cash_amount_placeholder:"e.g. 1000",quick_amount_500:"₱500",quick_amount_1000:"₱1000",exact_amount:"Exact",change_due:"Change Due",back_button:"Back",confirm_cash:"Confirm Cash",processing:"Processing...",waiting_payment_confirmation:"Waiting for payment confirmation",scan_to_pay:"Scan to Pay",use_app:"Use your {method} app",simulate_success:"Simulate Success (Dev)",all_categories:"All",alipay:"Alipay",wechat_pay:"WeChat Pay",reference_price:"Ref Price",default_store_name:"Jinjiang Star Hotel",order_detail_title:"Order Details",order_items:"Order Items",close:"Close",view_details:"View Details",recommended_for_you:"Recommended for You",print_receipt:"Print Receipt",order_id:"Order ID",table_number:"Table Number",order_time:"Order Time",status:"Status",payment_method:"Payment Method",item:"Item",amount:"Amount",thank_you_message:"Thank you! Please come again!",revenue:"Revenue"},tl:{dashboard:"Dashboard",menu:"Pamamahala ng Menu",orders:"Sentro ng Order",finance:"Pamamahala sa Pananalapi",inventory:"Imbentaryo",settings:"Mga Setting ng Sistema",ktv:"Silid ng KTV",signbill:"Mag-sign ng Bill",hotel:"Pagkain sa Kuwarto",qrcode:"Pamamahala ng QR Code",kitchen:"Display ng Kusina",customer:"Order ng Customer",permissions:"Pamamahala ng Pahintulot",dataviewer:"Tagatingin sa Data",dictionary:"Pamamahala sa Diksyonaryo",save:"I-save",cancel:"Ikansela",delete:"Tanggalin",edit:"I-edit",add:"Magdagdag",search:"Maghanap",filter:"Salain",loading:"Naglo-load...",success:"Matagumpay ang operasyon",error:"Nabigo ang operasyon",confirm:"Kumpirmahin ang aksyon",processing_payment:"Pinoproseso ang pagbabayad...",name:"Pangalan",description:"Paglalarawan",price:"Presyo",quantity:"Dami",category:"Kategorya",required:"Kinakailangan ang field na ito",invalidFormat:"Di-wasto ang format",today:"Ngayon",yesterday:"Kahapon",thisWeek:"Ngayong Linggo",thisMonth:"Ngayong Buwan",bottom_navigation:"Navigation sa ibaba",unread_orders:"Mga hindi nabasang order",quantity_controls:"Mga kontrol ng dami",quantity_controls_for:"Mga kontrol ng dami para sa",decrease_quantity:"Bawasan ang dami ng",increase_quantity:"Dagdagan ang dami ng",add_to_cart:"Idagdag sa cart",close_cart:"Isara ang cart",back_to_cart:"Bumalik sa cart",language_toggle:"Fil",pending_status:"Naghihintay",cooking_status:"Nagluluto",served_status:"Nai-serve na",paid_status:"Nabayaran",search_placeholder:"Maghanap ng pagkain...",no_items_found:"Walang nakitang mga item",order_history:"Kasaysayan ng Order",no_orders_yet:"Wala pang mga order",order_now:"Mag-order Ngayon",cash_collection_notice:"Hintaying makolekta ng staff ang cash.",total_label:"Kabuuan",view_cart:"Tingnan ang Cart",menu_tab:"Menu",orders_tab:"Mga Order",cart_title:"Cart",special_requests:"Mga Espesyal na Kahilingan",special_requests_placeholder:"hal. Walang maanghang, kaunti lang ang mantika...",subtotal:"Subtotal",service_charge:"Bayad sa Serbisyo",total_amount:"Kabuuang Halaga",checkout:"Mag-checkout",cashier:"Cashier",amount_to_pay:"Kabuuang Halaga",select_payment_method:"Pumili ng Paraan ng Pagbabayad",cash_payment:"Cash",pay_at_counter:"Magbayad sa counter / mesa",e_wallet:"E-Wallet",rmb_payment:"Pagbabayad sa RMB",cash_payment_title:"Pagbabayad sa Cash",prepare_cash:"Mangyaring ihanda ang iyong cash.",cash_amount_prompt:"Magkano ang ibabayad mo?",cash_amount_placeholder:"hal. 1000",quick_amount_500:"₱500",quick_amount_1000:"₱1000",exact_amount:"Eksakto",change_due:"Sukli",back_button:"Bumalik",confirm_cash:"Kumpirmahin ang Cash",processing:"Pinoproseso...",waiting_payment_confirmation:"Naghihintay ng kumpirmasyon ng pagbabayad",scan_to_pay:"I-scan para Magbayad",use_app:"Gamitin ang iyong {method} app",simulate_success:"I-simulate ang Tagumpay (Dev)",all_categories:"Lahat",simulated_api_qr:"Simulated na API QR",total:"Kabuuan",service_charge_with_rate:"Bayad sa Serbisyo ({rate}%)",cash_label:"Cash",e_wallet_label:"E-Wallet",rmb_payment_label:"Pagbabayad sa RMB",back:"Bumalik",exact:"Eksakto",alipay:"Alipay",wechat_pay:"WeChat Pay",reference_price:"Reference Price",default_store_name:"Jinjiang Star Hotel",order_detail_title:"Detalye ng Order",order_items:"Mga Item ng Order",close:"Isara",view_details:"Tingnan ang Detalye",recommended_for_you:"Inirerekomenda para sa Iyo",print_receipt:"I-print ang Resibo",order_id:"Order ID",table_number:"Numero ng Mesa",order_time:"Oras ng Order",status:"Katayuan",payment_method:"Paraan ng Pagbabayad",item:"Item",amount:"Halaga",thank_you_message:"Salamat! Mangyaring bumalik muli!",revenue:"Kita",VIP包间:"Mga VIP na Silid","为客房下单，订单将自动流转至后厨":"Maglagay ng mga order para sa mga kuwarto, awtomatikong papunta sa kusina ang mga order","房间号范围: 8201-8232 (2楼) 和 8301-8332 (3楼)":"Saklaw ng kuwarto: 8201-8232 (2F) at 8301-8332 (3F)",Kuwarto:"Kuwarto",Occupied:"Abala",Vacant:"Bakante","提交中...":"Isinusumite...","Send to Kitchen":"Ipadala sa Kusina","正在提交订单...":"Submitting order...",客房点餐:"Room Service Order",房号:"Room Number","订单已发送至厨房！":"Order sent to kitchen!","订单提交失败，请重试。":"Order submission failed, please try again.","Order submission failed, please try again.":"Nabigo ang pagsumite ng order, pakisubukan ulit.",KTV:"KTV",VIP餐厅:"VIP Dining",合作单位:"Partner Accounts",选择挂账单位:"Select Account to Charge",当前欠款:"Current Balance",确认挂账:"Confirm Charge","处理中...":"Processing...",挂账:"Charge to Account","挂账成功！":"Charge Successful!",单位:"Account",金额:"Amount",挂账订单:"Charge to Account Order","挂账失败，请重试。":"Charge to account failed, please try again."}};let me="zh-CN";const J=e=>{ue[e]&&(me=e)},S=(e,a)=>{const r=a||me,s=e.split(".");let n=ue[r];for(const i of s)if(n&&typeof n=="object"&&i in n)n=n[i];else return r!=="en"?S(e,"en"):e;return typeof n=="string"?n:e},Dt=(e,a="PHP")=>a==="PHP"?`₱${e.toFixed(2)}`:new Intl.NumberFormat(void 0,{style:"currency",currency:a}).format(e),Ze={cashier:"cashier_access",orders:"order_view",hotel:"hotel_order_access",kitchen:"kitchen_view",qrcode:"qrcode_manage",menu:"menu_manage",inventory:"inventory_manage",partner_accounts:"partner_account_manage",payment:"payment_manage",permissions:"user_manage",settings:"settings_manage",dataviewer:"data_view",dictionary:"dictionary_manage"},ge=(e,a,r=[],s=[])=>e?e.role==="admin"||e.role==="manager"&&a!=="user_manage"?!0:e.role==="staff"?["cashier_access","order_view","hotel_order_access","kitchen_view","menu_view","finance_view","data_view"].includes(a):!1:!1,et=(e,a,r=[],s=[])=>{const n=Ze[a];return n?ge(e,n,r,s):!0},he=Ce(void 0),tt=({children:e,initialUser:a=null,initialRoles:r=[],initialPermissions:s=[]})=>{const[n,i]=u(a),[l,h]=u(r),[w,_]=u(s),f={currentUser:n,userRoles:l,userPermissions:w,hasPermission:D=>n?ge(n,D,l,w):!1,canAccessPage:D=>n?et(n,D,l,w):!1,setUser:D=>{i(D)},refreshPermissions:()=>{}};return t(he.Provider,{value:f,children:e})},at=()=>{const e=ke(he);if(e===void 0)throw new Error("usePermissions must be used within a PermissionProvider");return e},ce=({currentPage:e,onNavigate:a,isOpen:r,onClose:s,userRole:n="staff"})=>{const{canAccessPage:i}=at(),l=({id:g,label:c,icon:p})=>m("button",{onClick:()=>{a(g),s()},className:`mb-1 flex w-full items-center gap-3 rounded-lg px-4 py-3 transition-all duration-200 ${e===g?"bg-red-600 text-white shadow-lg shadow-red-600/20":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[t(p,{size:18}),t("span",{className:"text-sm font-medium tracking-wide",children:c})]}),h=[{id:"cashier",label:S("cashier"),icon:Oe},{id:"orders",label:S("orders"),icon:Le},{id:"hotel",label:"客房点餐",icon:De},{id:"kitchen",label:S("kitchen"),icon:Te}],w=[{id:"qrcode",label:S("qrcode"),icon:Re},{id:"menu",label:S("menu"),icon:re},{id:"inventory",label:S("inventory"),icon:Me},{id:"partner_accounts",label:S("signbill"),icon:ze},{id:"payment",label:"支付方式",icon:$e},{id:"permissions",label:"用户管理",icon:qe},{id:"settings",label:S("settings"),icon:Ue},{id:"dataviewer",label:S("dataviewer"),icon:ne},{id:"dictionary",label:S("dictionary"),icon:ne}],_=i("settings")||i("permissions");return m(Ee,{children:[r&&t("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm md:hidden",onClick:s,"aria-label":"Close menu"}),m("div",{className:`
        fixed left-0 top-0 z-50 flex h-screen w-64 flex-col bg-slate-900 text-white shadow-xl transition-transform duration-300 ease-in-out
        ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,children:[m("div",{className:"flex items-center justify-between border-b border-slate-700 p-6",children:[m("div",{className:"flex items-center gap-3",children:[t("div",{className:"rounded-lg bg-red-600 p-2",children:t(re,{size:24,className:"text-white"})}),m("div",{children:[t("h1",{className:"text-lg font-bold tracking-wider",children:"后端管理"}),t("p",{className:"text-xs text-slate-400",children:"Backend System"})]})]}),t("button",{onClick:s,className:"p-1 text-slate-400 hover:text-white md:hidden",children:t(Be,{size:24})})]}),m("nav",{className:"flex-1 overflow-y-auto p-4",children:[m("div",{className:"mb-6",children:[t("div",{className:"mb-3 px-4 text-xs font-bold uppercase text-slate-500",children:"前台营业 Front Desk"}),h.map(g=>t(l,{...g},g.id))]}),_&&m("div",{children:[t("div",{className:"mb-3 border-t border-slate-800 px-4 pt-4 text-xs font-bold uppercase text-slate-500",children:"后台管理 Admin"}),w.map(g=>t(l,{...g},g.id))]})]}),m("div",{className:"border-t border-slate-800 p-4 text-xs text-slate-500",children:[t("p",{children:"江西酒店管理系统 v1.0"}),t("p",{className:"mt-1",children:"© 2025 Jiangxi Hotel"})]})]})]})},rt=({onLogin:e})=>{const[a,r]=u(""),[s,n]=u(""),[i,l]=u(""),[h,w]=u(!1),[_,g]=u(!1);return t("div",{className:"flex min-h-screen items-center justify-center bg-slate-900 p-4",children:m("div",{className:"animate-fade-in w-full max-w-md overflow-hidden rounded-2xl bg-white shadow-2xl",children:[m("div",{className:"p-8 pb-0 text-center",children:[t("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-2xl bg-red-600 shadow-lg shadow-red-500/30",children:t(se,{className:"text-white",size:32})}),t("h2",{className:"text-2xl font-bold text-slate-800",children:"系统登录 Login"}),m("p",{className:"mt-1 text-sm text-slate-500",children:["江西酒店后端管理系统",t("br",{}),"Backend Management System"]})]}),m("form",{onSubmit:async p=>{p.preventDefault(),l(""),g(!0);try{const f=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:s})})).json();f.success?(sessionStorage.setItem("jx_auth","true"),f.user&&f.user.role&&sessionStorage.setItem("jx_user_role",f.user.role),f.user&&f.user.language&&sessionStorage.setItem("jx_user_language",f.user.language),e(f.user?.role||"staff",f.user?.language||"zh")):l(f.message||"登录失败 / Login failed")}catch(E){console.error("Login error:",E),l("登录失败: "+(E instanceof Error?E.message:"网络错误"))}finally{g(!1)}},className:"space-y-6 p-8",children:[i&&m("div",{className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-600",children:[t(Ve,{size:16})," ",i]}),m("div",{children:[t("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Username 账号"}),m("div",{className:"relative",children:[t(Fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),t("input",{type:"text",value:a,onChange:p=>r(p.target.value),className:"w-full rounded-xl border border-slate-200 py-3 pl-10 pr-4 transition-all focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"",autoComplete:"username"})]})]}),m("div",{children:[t("label",{className:"mb-2 block text-sm font-bold text-slate-700",children:"Password 密码"}),m("div",{className:"relative",children:[t(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),t("input",{type:h?"text":"password",value:s,onChange:p=>n(p.target.value),className:"w-full rounded-xl border border-slate-200 py-3 pl-10 pr-12 transition-all focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"",autoComplete:"current-password",disabled:_}),t("button",{type:"button",onClick:()=>w(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:h?t(je,{size:20}):t(Ke,{size:20})})]})]}),m("button",{type:"submit",className:"flex w-full items-center justify-center gap-2 rounded-xl bg-slate-900 py-4 font-bold text-white shadow-lg transition-all hover:bg-slate-800 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50",disabled:_||!a||!s,children:[t(He,{size:20})," ",_?"Logging in...":"Login 登录"]})]}),t("div",{className:"border-t border-slate-100 bg-slate-50 p-4 text-center text-xs text-slate-400",children:"Secure Access • Backend Authentication"})]})})};class nt extends Ie{state={hasError:!1,error:void 0};static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("Uncaught error:",a,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:t("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:m("div",{className:"max-w-md rounded-lg bg-white p-8 text-center shadow-lg",children:[t("div",{className:"mx-auto mb-4 text-5xl text-red-500",children:"⚠️"}),t("h2",{className:"mb-2 text-2xl font-bold text-slate-800",children:"出错了"}),t("p",{className:"mb-4 text-slate-600",children:"抱歉，应用程序遇到了一些问题。"}),m("details",{className:"mb-4 text-left text-sm text-slate-500",children:[t("summary",{className:"cursor-pointer font-medium",children:"错误详情"}),t("pre",{className:"mt-2 overflow-auto rounded bg-slate-100 p-4",children:this.state.error?.toString()})]}),t("button",{onClick:()=>window.location.reload(),className:"rounded-lg bg-slate-900 px-4 py-2 font-medium text-white hover:bg-slate-800",children:"刷新页面"})]})}):this.props.children}}const st=y.memo(nt),Q="jx_cache_",ot=300*1e3,it=(e,a,r=ot)=>{try{const s=`${Q}${e}`,n=Date.now()+r,i={data:a,timestamp:Date.now(),expiry:n};localStorage.setItem(s,JSON.stringify(i))}catch(s){console.warn("Failed to set cache:",s)}},ct=e=>{try{const a=`${Q}${e}`,r=localStorage.getItem(a);if(!r)return null;const s=JSON.parse(r);return Date.now()>s.expiry?(localStorage.removeItem(a),null):s.data}catch(a){return console.warn("Failed to get cache:",a),null}},lt=e=>{try{const a=`${Q}${e}`;localStorage.removeItem(a)}catch(a){console.warn("Failed to clear cache:",a)}};var le={};const dt=()=>{if(typeof window<"u")return"/api";{const e=le.VERCEL_URL;return e?`https://${e}/api`:`http://localhost:${le.PORT||5173}/api`}},B=dt(),de=["dishes","orders","expenses","inventory","sign_bill_accounts","hotel_rooms","payment_methods","system_settings","users","roles","permissions","partner_accounts","categories","system_dictionary"],L={async get(e){console.log(`API GET: ${e}`);const a=await fetch(`${B}${e}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const r=await a.json();return console.log(`API GET response from ${e}: ${a.status}`),r},async post(e,a,r){console.log(`API POST request to ${e}`);const s={"Content-Type":"application/json"};r&&(s.Authorization=r);const n=await fetch(`${B}${e}`,{method:"POST",headers:s,body:JSON.stringify(a)});if(!n.ok){const i=await n.text();throw new Error(`HTTP error! status: ${n.status}, message: ${i}`)}return await n.json()},async put(e,a,r){console.log(`API PUT request to ${e}`);const s={"Content-Type":"application/json"};r&&(s.Authorization=r);const n=await fetch(`${B}${e}`,{method:"PUT",headers:s,body:JSON.stringify(a)});if(!n.ok){const i=await n.text();throw new Error(`HTTP error! status: ${n.status}, message: ${i}`)}return await n.json()},async delete(e,a){console.log(`API DELETE: ${e}`);const r={};a&&(r.Authorization=a);const s=await fetch(`${B}${e}`,{method:"DELETE",headers:r});if(!s.ok){const i=await s.text();throw new Error(`HTTP error! status: ${s.status}, message: ${i}`)}const n=await s.json();return console.log(`API DELETE response from ${e}: ${s.status}`),n},async fetchAll(){try{const e=await Promise.allSettled(de.map(async r=>{try{const s=await L.get(`/${r}`);return{collection:r,data:s.success?s.data:[]}}catch(s){return console.error(`Error fetching ${r}:`,s),{collection:r,data:[]}}})),a={};return e.forEach((r,s)=>{const n=de[s];if(r.status==="fulfilled"){const i=n.replace(/_([a-z])/g,l=>l[1].toUpperCase());a[i]=r.value.data}else{const i=n.replace(/_([a-z])/g,l=>l[1].toUpperCase());a[i]=[]}}),a}catch(e){throw console.error("Error in fetchAll:",e),e}},async fetchCollection(e){try{const a=await L.get(`/${e}`);return a.success?a.data:[]}catch(a){return console.error(`Error fetching collection ${e}:`,a),[]}},async saveSystemSettings(e){try{const a=await L.put("/system_settings?id=settings",e);return a.success?a.data:null}catch(a){throw console.error("Error saving system settings:",a),a}},async fetchSystemSettings(){try{const e=await L.get("/system_settings?id=settings");return e.success?e.data:null}catch(e){return console.error("Error fetching system settings:",e),null}},async create(e,a){try{return await L.post(`/${e}`,a)}catch(r){throw console.error(`Error creating item in collection ${e}:`,r),r}},async update(e,a,r){try{return await L.put(`/${e}?id=${a}`,r)}catch(s){throw console.error(`Error updating item id ${a} in collection ${e}:`,s),s}},async remove(e,a){try{return await L.delete(`/${e}?id=${a}`)}catch(r){throw console.error(`Error deleting item id ${a} from collection ${e}:`,r),r}},async seed(){try{return await L.post("/seed",{})}catch(e){throw console.error("Error seeding data:",e),e}}},ut=(e=300*1e3)=>{const[a,r]=u({dishes:[],orders:[],expenses:[],inventory:[],ktvRooms:[],signBillAccounts:[],hotelRooms:[],paymentMethods:[],systemSettings:null,users:[],roles:[],permissions:[]}),[s,n]=u(!0),[i,l]=u(null),h=G(async(g=!0)=>{try{if(n(!0),l(null),g){const E=ct("app_data");if(E)return console.log("[Cache Hit] Returning cached app data"),r(E),n(!1),E}const c=await L.fetchAll(),p={dishes:c.dishes||[],orders:c.orders||[],expenses:c.expenses||[],inventory:c.inventory||[],ktvRooms:c.ktvRooms||[],signBillAccounts:c.signBillAccounts||[],hotelRooms:c.hotelRooms||[],paymentMethods:c.paymentMethods||[],systemSettings:c.systemSettings||null,users:c.users||[],roles:c.roles||[],permissions:c.permissions||[]};return g&&it("app_data",p,e),r(p),p}catch(c){return console.error("Failed to fetch app data:",c),l(c instanceof Error?c:new Error("Unknown error")),null}finally{n(!1)}},[e]);O(()=>{h()},[h]);const w=G(()=>h(!1),[h]),_=G(()=>{lt("app_data")},[]);return{data:a,loading:s,error:i,refresh:w,clearAppCache:_}};class T{static instance;dictionaryCache=new Map;initialized=!1;static getInstance(){return T.instance||(T.instance=new T),T.instance}async initialize(){if(!this.initialized)try{const a=await L.fetchCollection("system_dictionary");this.dictionaryCache.clear(),a.forEach(r=>{this.dictionaryCache.set(r.key_code,r)}),this.initialized=!0}catch(a){console.error("Failed to initialize dictionary cache:",a)}}getTranslation(a,r="zh_cn"){const s=this.dictionaryCache.get(a);return s&&s[r]||a}getTranslationForRole(a,r="staff"){const s=r==="admin"||r==="manager"?"zh_cn":"en_ph";return this.getTranslation(a,s)}getEntry(a){return this.dictionaryCache.get(a)}getAllEntries(){return Array.from(this.dictionaryCache.values())}getEntriesByCategory(a){return this.getAllEntries().filter(r=>r.category===a)}async refresh(){this.initialized=!1,await this.initialize()}}const mt=T.getInstance();y.lazy(()=>b(()=>import("./Dashboard-DH0v9ic1.js"),[]));const gt=y.lazy(()=>b(()=>import("./MenuManagement-YgpK9GB5.js"),__vite__mapDeps([0,1,2,3,4]))),ht=y.lazy(()=>b(()=>import("./OrderManagement-BlWP3PzG.js"),__vite__mapDeps([5,6,1])));y.lazy(()=>b(()=>import("./FinanceSystem-BE77k4_k.js"),__vite__mapDeps([7,6,1])));const pt=y.lazy(()=>b(()=>import("./InventoryManagement-DXPbLNlc.js"),__vite__mapDeps([8,1]))),_t=y.lazy(()=>b(()=>import("./ModernSettings-aPzV6FRF.js"),[]));y.lazy(()=>b(()=>import("./SignBillSystem-BuxTZ95X.js"),[]));const ft=y.lazy(()=>b(()=>import("./HotelSystem-BS7rYsX0.js"),__vite__mapDeps([9,4,1]))),yt=y.lazy(()=>b(()=>import("./QRCodeManager-BbRHzQEF.js"),[])),bt=y.lazy(()=>b(()=>import("./KitchenDisplay-C9BN40p1.js"),__vite__mapDeps([10,1]))),wt=y.lazy(()=>b(()=>import("./CustomerOrder-DmgE3Ndd.js"),__vite__mapDeps([11,4,1]))),vt=y.lazy(()=>b(()=>import("./PaymentManagement-CP2POaWh.js"),[])),xt=y.lazy(()=>b(()=>import("./PermissionManagement-C1HnE9LM.js"),[])),Nt=y.lazy(()=>b(()=>import("./DataViewer-DrCBmY3x.js"),[])),Pt=y.lazy(()=>b(()=>import("./PartnerAccountManagement-TTkNLqKP.js"),[])),Et=y.lazy(()=>b(()=>import("./DictionaryManagement-CpPHGPg0.js"),__vite__mapDeps([12,3,1]))),Ct=()=>{const[e,a]=u(()=>{if(typeof window<"u"){const d=new URLSearchParams(window.location.search).get("page");if(d==="customer")return"customer";if(d==="kitchen")return"kitchen"}return"cashier"}),[r,s]=u(()=>typeof window<"u"?sessionStorage.getItem("jx_auth")==="true":!1),[n,i]=u(()=>typeof window<"u"?sessionStorage.getItem("jx_user_role")||"admin":"staff"),[l,h]=u(()=>{if(typeof window<"u"){const o=sessionStorage.getItem("jx_user_language");return o||(sessionStorage.getItem("jx_user_role")==="admin"||sessionStorage.getItem("jx_user_role")==="manager"?"zh":"tl")}return"zh"}),[w,_]=u(!0),[g,c]=u(!1),[p,E]=u("系统初始化中... / Initializing"),[f,D]=u([]),[v,R]=u([]),[V,F]=u([]),[j,q]=u([]),[pe,_e]=u([]),[Y,X]=u([]),[fe,ye]=u([]),[be,we]=u([]),[M,K]=u({storeInfo:z.DEFAULT_STORE_INFO,notifications:{sound:!0,desktop:!0},payment:{enabledMethods:["CASH"],aliPayEnabled:!1,weChatEnabled:!1,gCashEnabled:!0,mayaEnabled:!0},exchangeRate:z.DEFAULT_FINANCIAL.exchangeRate,serviceChargeRate:z.DEFAULT_FINANCIAL.serviceChargeRate,categories:[]});O(()=>{(async()=>{try{await Ye(),console.log("Database initialized successfully"),await mt.initialize(),console.log("Dictionary initialized successfully");const{menuAPI:d}=await b(async()=>{const{menuAPI:x}=await import("./menu-Dp2AkKIZ.js");return{menuAPI:x}},__vite__mapDeps([2,3]));await d.initializeDefaultMenu(),console.log("Default menu initialized successfully")}catch(d){console.error("Failed to initialize database, dictionary or menu:",d)}})()},[]),O(()=>{if(typeof window<"u"){const o=sessionStorage.getItem("jx_user_language");J(o||"zh-CN")}},[]);const{data:A,loading:H,error:W,refresh:Z}=ut();O(()=>{A&&(D(A.dishes),R(A.orders),F(A.expenses),q(A.inventory),_e(A.users),ye(A.roles||[]),we(A.permissions||[]),X(A.hotelRooms))},[A]),O(()=>{_(H),H&&E("正在同步云端数据... / Syncing Cloud Data")},[H]),O(()=>{W&&console.error("Failed to load initial data",W)},[W]),O(()=>{const o=()=>{Z()};return window.addEventListener("data-refresh",o),()=>window.removeEventListener("data-refresh",o)},[Z]);const U=Se([]);O(()=>{w||U.current.length===0&&(U.current=v)},[w,v]),O(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),O(()=>{if(w)return;const o=U.current||[],d=v?v.filter(P=>P.status===$.PENDING).length:0,x=o?o.filter(P=>P.status===$.PENDING).length:0;if(v&&o&&v.length>o.length&&d>x){const P=new Set(o.map(C=>C.id)),I=v.filter(C=>!P.has(C.id)&&C.status===$.PENDING);if(I.length>0){ve("新订单提醒 / New Order",`收到 ${I.length} 个新订单，请及时处理！`);const C=document.createElement("div");C.innerHTML=`
             <div id="new-order-notification" class="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-3 rounded-lg shadow-lg animate-bounce flex items-center gap-2">
               <div class="w-3 h-3 bg-white rounded-full animate-ping absolute"></div>
               <span class="font-bold">新订单提醒 / New Order</span>
               <span>收到 ${I.length} 个新订单</span>
               <button onclick="document.getElementById('new-order-notification').remove()" class="ml-2 text-white hover:text-gray-200">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                   <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                 </svg>
               </button>
             </div>
           `,document.body.appendChild(C),setTimeout(()=>{const k=document.getElementById("new-order-notification");k&&k.remove()},5e3)}}U.current=v||[]},[v,w]);const ve=(o,d)=>{try{const x=localStorage.getItem("jx_settings"),P=x?JSON.parse(x):{notifications:{sound:!0,desktop:!0}},{sound:I,desktop:C}=P.notifications||{sound:!0,desktop:!0};if(I)try{fetch(z.NOTIFICATION.soundUrl).then(k=>{k.ok?new Audio(z.NOTIFICATION.soundUrl).play().catch(Pe=>console.error("Audio playback failed:",Pe)):(console.log("通知音效文件不存在，使用系统默认通知音"),"Notification"in window&&Notification.permission==="granted"&&new Notification(o,{body:d,icon:"/favicon.ico",silent:!1}))}).catch(k=>{console.error("检查音频文件失败:",k)})}catch(k){console.error("播放通知音效失败:",k)}C&&"Notification"in window&&Notification.permission==="granted"&&new Notification(o,{body:d,icon:"/favicon.ico",silent:!I})}catch(x){console.error("Notification error:",x)}},ee=o=>{a(o);const d=new URL(window.location.href);o==="customer"||o==="kitchen"?d.searchParams.set("page",o):d.searchParams.delete("page"),window.history.pushState({},"",d),c(!1)},te=o=>{R(d=>[o,...d||[]])},xe=async(o,d)=>{try{if(console.log(`Updating order ${o} status to ${d}`),d===$.COOKING){const x=v?v.find(P=>P.id===o):void 0;x&&(q(P=>(P||[]).map(I=>{const C=x.items?.find(k=>k.dishId===I.id);if(C){const k=C.quantity;return{...I,quantity:Math.max(0,I.quantity-k)}}return I})),console.log("Inventory deducted for Order",o))}R(x=>(x||[]).map(P=>P.id===o?{...P,status:d}:P))}catch(x){console.error("Error updating order status:",x)}},Ne=(o="admin",d="zh-CN")=>{try{sessionStorage.setItem("jx_auth","true"),sessionStorage.setItem("jx_user_role",o),sessionStorage.setItem("jx_user_language",d),i(o),h(d),J(d),s(!0)}catch(x){console.error("Login error:",x)}},ae=()=>{try{if(w)return t("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:m("div",{className:"text-center",children:[t(We,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-slate-600"}),t("p",{className:"font-medium text-slate-600",children:p})]})});if(!r)return t(rt,{onLogin:Ne});switch(e){case"menu":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Menu Management..."}),children:t(gt,{dishes:f,setDishes:D,categories:M.categories||[],setCategories:o=>{K(d=>({...d,categories:typeof o=="function"?o(d.categories||[]):o}))},inventory:j})});case"orders":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Order Management..."}),children:t(ht,{orders:v,setOrders:R,systemSettings:M})});case"cashier":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Front Desk Cashier..."}),children:t(FrontDeskCashier,{expenses:V,setExpenses:F,orders:v})});case"inventory":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Inventory Management..."}),children:t(pt,{inventory:j,setInventory:q})});case"settings":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Settings..."}),children:t(_t,{systemSettings:M,setSystemSettings:K,dishes:f,setDishes:D,orders:v,setOrders:R,expenses:V,setExpenses:F,inventory:j,setInventory:q,hotelRooms:Y,setHotelRooms:X,onSettingsChange:o=>{K(d=>({...d,...o}))}})});case"hotel":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Hotel System..."}),children:t(ft,{dishes:f,onPlaceOrder:te,systemSettings:{exchangeRate:M.exchangeRate||8.2}})});case"qrcode":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading QR Code Manager..."}),children:t(yt,{hotelRooms:Y})});case"kitchen":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Kitchen Display..."}),children:t(bt,{orders:v,onStatusChange:xe,onBack:()=>a("cashier")})});case"customer":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Customer Order..."}),children:t(wt,{dishes:f,orders:v,onPlaceOrder:te,systemSettings:M})});case"payment":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Payment Management..."}),children:t(vt,{})});case"permissions":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Permission Management..."}),children:t(xt,{})});case"dataviewer":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Data Viewer..."}),children:t(Nt,{orders:v,expenses:V,users:pe})});case"partner_accounts":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Partner Account Management..."}),children:t(Pt,{})});case"dictionary":return t(N,{fallback:t("div",{className:"p-8 text-center text-slate-500",children:"Loading Dictionary Management..."}),children:t(Et,{})});default:return m("div",{className:"p-8 text-center text-red-500",children:["Page not found: ",e]})}}catch(o){return console.error("Render content error:",o),t("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:m("div",{className:"text-center",children:[t("div",{className:"mx-auto mb-4 h-12 w-12 text-red-600",children:"⚠️"}),t("h2",{className:"mb-2 text-xl font-bold text-slate-800",children:"页面加载错误"}),t("p",{className:"mb-4 text-slate-600",children:"抱歉，页面加载时发生了错误。请刷新页面重试。"}),t("button",{onClick:()=>window.location.reload(),className:"rounded-lg bg-slate-900 px-4 py-2 text-white hover:bg-slate-800",children:"刷新页面"})]})})}};return e==="customer"||e==="kitchen"?ae():t(tt,{initialUser:r?{id:"current",username:"current",role:n,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:null,initialRoles:fe,initialPermissions:be,children:t(st,{children:m("div",{className:"flex min-h-screen bg-slate-50",children:[m("div",{className:"fixed left-0 right-0 top-0 z-40 flex h-16 items-center justify-between bg-slate-900 px-4 shadow-md md:hidden",children:[t("div",{className:"flex items-center gap-2 font-bold text-white",children:t("span",{className:"text-lg",children:"江西酒店 Admin"})}),t("button",{onClick:()=>c(!0),className:"rounded-lg p-2 text-slate-300 hover:bg-slate-800 hover:text-white",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),t("div",{className:"z-30 hidden w-64 bg-slate-900 text-white shadow-xl md:block",children:t(N,{fallback:t("div",{className:"p-4 text-slate-400",children:"Loading..."}),children:t(ce,{currentPage:e,onNavigate:ee,isOpen:!0,onClose:()=>{},userRole:n})})}),g&&t("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 md:hidden",onClick:()=>c(!1),children:t("div",{className:"absolute bottom-0 left-0 top-0 w-64 bg-slate-900 text-white shadow-xl",onClick:o=>o.stopPropagation(),children:t(N,{fallback:t("div",{className:"p-4 text-slate-400",children:"Loading..."}),children:t(ce,{currentPage:e,onNavigate:ee,isOpen:!0,onClose:()=>c(!1),userRole:n})})})}),t("div",{className:"flex-1 pt-16 md:ml-0 md:pt-0",children:ae()})]})})})};Ae.createRoot(document.getElementById("root")).render(t(y.StrictMode,{children:t(Ct,{})}));export{Xe as E,Lt as L,$ as O,L as a,Dt as f,J as s,S as t};
