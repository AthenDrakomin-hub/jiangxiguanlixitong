import{jsxs as x,jsx as n}from"react/jsx-runtime";import{useState as i,useRef as u,useEffect as y}from"react";const L=({src:f,alt:d,className:m="",placeholderColor:g="#e2e8f0",blurDataURL:s,width:o,height:a})=>{const[r,c]=i(!1),[p,b]=i(!1),l=u(null),e=u(null);y(()=>{const t=l.current;return e.current=new IntersectionObserver(h=>{h.forEach(w=>{w.isIntersecting&&b(!0)})},{rootMargin:"50px"}),t&&e.current.observe(t),()=>{e.current&&(t&&e.current.unobserve(t),e.current.disconnect())}},[]);const v=()=>{c(!0)},I=()=>{c(!0)};return x("div",{ref:l,className:`relative overflow-hidden ${m}`,style:{backgroundColor:r?"transparent":g,transition:"background-color 0.3s ease",width:o?`${o}px`:"100%",height:a?`${a}px`:"100%"},children:[s&&!r&&n("img",{src:s,alt:"",className:"h-full w-full scale-105 object-cover blur-sm"}),p&&n("img",{src:f,alt:d,className:`h-full w-full object-cover transition-all duration-300 ${r?"scale-100 opacity-100 blur-0":"scale-105 opacity-0 blur-sm"}`,onLoad:v,onError:I,loading:"lazy"}),!r&&!s&&n("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})};export{L as I};
