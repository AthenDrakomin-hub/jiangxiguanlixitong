import{j as e}from"./index-BV8Zipq2.js";import{r as o}from"./react-vendor-C14am9Lm.js";import{l as S,ak as I,V as j,al as b,m as C,v as q,s as D}from"./lucide-CwzgdtcU.js";import"./aws-sdk-BT5ufFbJ.js";import"./recharts-wRm9IGXD.js";const T=({inventory:x,setInventory:d})=>{const[h,N]=o.useState(""),[v,i]=o.useState(!1),[m,u]=o.useState(null),[n,r]=o.useState({name:"",quantity:0,unit:"kg",threshold:5}),c=x.filter(t=>t.quantity<=t.threshold),p=t=>{t?(u(t),r(t)):(u(null),r({name:"",quantity:0,unit:"kg",threshold:5})),i(!0)},y=t=>{confirm("Delete this item? 确定要删除该食材记录吗？")&&d(s=>s.filter(l=>l.id!==t))},w=t=>{t.preventDefault();const s=new Date().toISOString();if(m)d(l=>l.map(a=>a.id===m.id?{...a,...n,updatedAt:s}:a));else{const l={...n,id:`ING-${Date.now()}`,updatedAt:s};d(a=>[l,...a])}i(!1)},g=(t,s)=>{d(l=>l.map(a=>{if(a.id===t){const k=Math.max(0,a.quantity+s);return{...a,quantity:k,updatedAt:new Date().toISOString()}}return a}))},f=x.filter(t=>t.name.toLowerCase().includes(h.toLowerCase()));return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Inventory 库存管理"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Pamamahala ng Imbentaryo"})]}),e.jsxs("button",{onClick:()=>p(),className:"flex items-center gap-2 bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-800 transition-colors shadow-lg shadow-slate-900/20",children:[e.jsx(S,{size:20}),e.jsx("span",{children:"Add Item / Magdagdag"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Total Items / Kabuuan"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mt-1",children:x.length})]}),e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(I,{size:24})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Low Stock / Mababa ang stock"}),e.jsx("h3",{className:`text-2xl font-bold mt-1 ${c.length>0?"text-red-600":"text-slate-800"}`,children:c.length})]}),e.jsx("div",{className:`p-3 rounded-lg ${c.length>0?"bg-red-50 text-red-600 animate-pulse":"bg-green-50 text-green-600"}`,children:e.jsx(j,{size:24})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Status / Kalagayan"}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mt-1",children:c.length>0?"Need Restock 需补货":"Good 充足"})]}),e.jsx("div",{className:"p-3 bg-slate-100 text-slate-600 rounded-lg",children:e.jsx(b,{size:24})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 flex flex-col sm:flex-row gap-4 justify-between items-center",children:e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search / 搜索 / Hanapin...",value:h,onChange:t=>N(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-medium",children:"Name / Pangalan"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"Stock / Imbentaryo"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"Threshold / Limit"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"Status / Kalagayan"}),e.jsx("th",{className:"px-6 py-4 font-medium",children:"Updated"}),e.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.map(t=>{const s=t.quantity<=t.threshold;return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:t.name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"font-bold text-slate-700 min-w-[3rem]",children:[t.quantity," ",e.jsx("span",{className:"text-xs text-slate-400 font-normal",children:t.unit})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>g(t.id,-1),className:"w-6 h-6 flex items-center justify-center rounded bg-slate-100 hover:bg-slate-200 text-slate-600",children:"-"}),e.jsx("button",{onClick:()=>g(t.id,1),className:"w-6 h-6 flex items-center justify-center rounded bg-slate-100 hover:bg-slate-200 text-slate-600",children:"+"})]})]})}),e.jsxs("td",{className:"px-6 py-4 text-slate-500",children:[t.threshold," ",t.unit]}),e.jsx("td",{className:"px-6 py-4",children:s?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[e.jsx(j,{size:12})," Low / Mababa"]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"OK 充足"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-400",children:new Date(t.updatedAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>p(t),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600",children:e.jsx(q,{size:16})}),e.jsx("button",{onClick:()=>y(t.id),className:"p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-600",children:e.jsx(D,{size:16})})]})})]},t.id)})})]}),f.length===0&&e.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center gap-3",children:[e.jsx(b,{size:48,className:"text-slate-200"}),e.jsx("p",{children:"No Items Found / Walang nakita"})]})]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:m?"Edit Item / I-edit":"Add Item / Magdagdag"}),e.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:"×"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name / Pangalan"}),e.jsx("input",{type:"text",required:!0,value:n.name,onChange:t=>r(s=>({...s,name:t.target.value})),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900",placeholder:"e.g. Beef / 牛肉"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Quantity / Dami"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.1",value:n.quantity,onChange:t=>r(s=>({...s,quantity:Number(t.target.value)})),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Unit / Yunit"}),e.jsx("input",{type:"text",required:!0,value:n.unit,onChange:t=>r(s=>({...s,unit:t.target.value})),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900",placeholder:"kg/pack"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Alert Threshold / Limitasyon"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",required:!0,min:"0",value:n.threshold,onChange:t=>r(s=>({...s,threshold:Number(t.target.value)})),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"Alert level"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel / Kanselahin"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium shadow-lg shadow-slate-900/10",children:"Save / I-save"})]})]})]})})]})};export{T as default};
